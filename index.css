@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom Scrollbar Utilities */
.no-scrollbar::-webkit-scrollbar {
  display: none;
}
.no-scrollbar {
  -ms-overflow-style: none;  /* IE and Edge */
  scrollbar-width: none;  /* Firefox */
}

@media print {
  /* 
    CRITICAL: Remove browser headers/footers (URL, Date, Page #) 
    and set paper size to auto to handle continuous thermal rolls.
  */
  @page {
    margin: 0;
    size: auto;
  }

  /* Reset document structure for printing */
  html, body {
    margin: 0 !important;
    padding: 0 !important;
    width: 100% !important;
    height: auto !important;
    overflow: visible !important;
    background-color: white !important;
  }

  /* Hide all application elements visually, but keep them in DOM to prevent React errors */
  body * {
    visibility: hidden;
  }

  /* Reset parent containers that might affect positioning */
  #root, .fixed, .inset-0, .flex, .h-screen, .w-screen {
    position: static !important;
    display: block !important;
    height: auto !important;
    width: auto !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: visible !important;
    transform: none !important;
  }

  /* Expose and style the receipt area */
  #receipt-area, 
  #receipt-area * {
    visibility: visible !important;
  }

  #receipt-area {
    position: absolute !important;
    left: 0 !important;
    top: 0 !important;
    
    /* 
       Ensure it fits the paper width exactly. 
       Using 100% allows it to adapt to 58mm or 80mm paper settings in the driver.
    */
    width: 100% !important;
    max-width: 100% !important;
    
    /* Remove app styling interference */
    margin: 0 !important;
    padding: 4mm !important; /* Minimal padding for readability */
    box-sizing: border-box !important;
    
    /* Thermal Printer Styling */
    background: white !important;
    color: black !important;
    font-family: 'Courier New', Courier, monospace !important;
    font-size: 12px !important;
    line-height: 1.2 !important;
    border: none !important;
    box-shadow: none !important;
    border-radius: 0 !important;
    
    /* Prevent page breaking inside the receipt if possible (though rolls are continuous) */
    break-inside: avoid;
  }

  /* Ensure text doesn't overflow horizontally on small papers */
  #receipt-area p, 
  #receipt-area div, 
  #receipt-area span,
  #receipt-area td,
  #receipt-area th {
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    white-space: normal !important;
  }
  
  /* Hide scrollbars specifically for print to avoid artifacts */
  ::-webkit-scrollbar {
    display: none !important;
  }
  
  /* Utilities specific to print */
  .no-print {
    display: none !important;
  }
}
